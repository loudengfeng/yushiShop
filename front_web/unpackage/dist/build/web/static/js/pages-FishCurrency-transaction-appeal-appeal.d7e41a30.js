(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-FishCurrency-transaction-appeal-appeal"],{2634:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
e.default=function(){return t};var t={},i=Object.prototype,r=i.hasOwnProperty,n=Object.defineProperty||function(t,e,i){t[e]=i.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,i){return t[e]=i}}function d(t,e,i,a){var r=e&&e.prototype instanceof p?e:p,o=Object.create(r.prototype),s=new E(a||[]);return n(o,"_invoke",{value:C(t,i,s)}),o}function v(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(O){return{type:"throw",arg:O}}}t.wrap=d;var f={};function p(){}function h(){}function g(){}var m={};c(m,s,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==i&&r.call(w,s)&&(m=w);var y=g.prototype=p.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){var i;n(this,"_invoke",{value:function(n,o){function s(){return new e((function(i,s){(function i(n,o,s,l){var u=v(t[n],t,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==(0,a.default)(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,s,l)}),(function(t){i("throw",t,s,l)})):e.resolve(d).then((function(t){c.value=t,s(c)}),(function(t){return i("throw",t,s,l)}))}l(u.arg)})(n,o,i,s)}))}return i=i?i.then(s,s):s()}})}function C(t,e,i){var a="suspendedStart";return function(r,n){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw n;return N()}for(i.method=r,i.arg=n;;){var o=i.delegate;if(o){var s=L(o,i);if(s){if(s===f)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===a)throw a="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a="executing";var l=v(t,e,i);if("normal"===l.type){if(a=i.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(a="completed",i.method="throw",i.arg=l.arg)}}}function L(t,e){var i=e.method,a=t.iterator[i];if(void 0===a)return e.delegate=null,"throw"===i&&t.iterator["return"]&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),f;var r=v(a,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var n=r.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function F(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(F,this),this.reset(!0)}function k(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=g,n(y,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:h,configurable:!0}),h.displayName=c(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,u,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},x(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,i,a,r,n){void 0===n&&(n=Promise);var o=new _(d(e,i,a,r),n);return t.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(y),c(y,u,"Generator"),c(y,s,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),i=[];for(var a in e)i.push(a);return i.reverse(),function t(){for(;i.length;){var a=i.pop();if(a in e)return t.value=a,t.done=!1,t}return t.done=!0,t}},t.values=k,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,a){return o.type="throw",o.arg=t,e.next=i,a&&(e.method="next",e.arg=void 0),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a],o=n.completion;if("root"===n.tryLoc)return i("end");if(n.tryLoc<=this.prev){var s=r.call(n,"catchLoc"),l=r.call(n,"finallyLoc");if(s&&l){if(this.prev<n.catchLoc)return i(n.catchLoc,!0);if(this.prev<n.finallyLoc)return i(n.finallyLoc)}else if(s){if(this.prev<n.catchLoc)return i(n.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return i(n.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var n=a;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var o=n?n.completion:{};return o.type=t,o.arg=e,n?(this.method="next",this.next=n.finallyLoc,f):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),I(i),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var r=a.arg;I(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:k(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),f}},t},i("6a54"),i("01a2"),i("e39c"),i("bf0f"),i("844d"),i("18f7"),i("de6c"),i("3872e"),i("4e9b"),i("114e"),i("c240"),i("926e"),i("7a76"),i("c9b5"),i("aa9c"),i("2797"),i("8a8d"),i("dc69"),i("f7a5");var a=function(t){return t&&t.__esModule?t:{default:t}}(i("fcf3"))},"2fdc":function(t,e,i){"use strict";function a(t,e,i,a,r,n,o){try{var s=t[n](o),l=s.value}catch(u){return void i(u)}s.done?e(l):Promise.resolve(l).then(a,r)}i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=this,i=arguments;return new Promise((function(r,n){var o=t.apply(e,i);function s(t){a(o,r,n,s,l,"next",t)}function l(t){a(o,r,n,s,l,"throw",t)}s(void 0)}))}},i("bf0f")},6237:function(t,e,i){var a=i("aec6");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=i("967d").default;r("cf6e1ebe",a,!0,{sourceMap:!1,shadowMode:!1})},"6cad":function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("d4b5"),i("64aa"),i("aa9c");var r=a(i("2634")),n=a(i("2fdc")),o=a(i("39d8")),s={data:function(){var t;return t={imgList:[],imgCount:1,evaluateImgUrlList:[],evaluateText:"",sellInfo:"",detail:"",id:""},(0,o.default)(t,"evaluateImgUrlList",""),(0,o.default)(t,"pp",""),t},onLoad:function(t){this.pp=t.pp,this.pp&&uni.setNavigationBarTitle({title:"应诉"}),this.id=t.id,this.getData(t.id)},methods:{getData:function(t){var e=this;return(0,n.default)((0,r.default)().mark((function i(){var a,n,o,s;return(0,r.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a={FishRecordId:t},n=JSON.stringify(a),o={action:"ReadFishOrderRecord",data:n},i.next=5,e.$api.api.getFish(o);case 5:s=i.sent,1==s.data.status&&(s.data.data[0].FishPrice=Number(s.data.data[0].FishPrice).toFixed(2),s.data.data[0].FishNumber=Number(s.data.data[0].FishNumber).toFixed(2),s.data.data[0].Balance=Number(s.data.data[0].Balance).toFixed(2),e.detail=s.data.data[0],e.detail.sellName=e.detail.SellerUserId.TransactionType?"卖家ID":"买家ID",e.detail.buyName=e.detail.SellerUserId.TransactionType?"买家ID":"卖家ID",e.sellInfo=s.data.sellerPayInformation[0]);case 7:case"end":return i.stop()}}),i)})))()},submit:function(){var t=this;return(0,n.default)((0,r.default)().mark((function e(){var i,a,n,o;return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=t.evaluateText){e.next=2;break}return e.abrupt("return",t.$api.msg("请输入申诉理由"));case 2:if(0!=t.imgList.length){e.next=4;break}return e.abrupt("return",t.$api.msg("请上传图片"));case 4:return i={FishRecordId:t.id,AppealReason:t.evaluateText,AppealProof:t.evaluateImgUrlList},a=JSON.stringify(i),n={data:a,action:"AppealFishRecord"},e.next=9,t.$api.api.getFish(n);case 9:o=e.sent,console.log(o.data.status),1==o.data.status?(t.$api.msg("提交成功"),t.pp?setTimeout((function(){uni.navigateBack({delta:1})}),800):setTimeout((function(){uni.navigateBack({delta:2})}),800)):t.$api.msg(o.data.message);case 12:case"end":return e.stop()}}),e)})))()},upload:function(){var t=this;if(this.imgCount>1)return this.$api.msg("只能上传一张");uni.chooseImage({count:this.imgCount,success:function(e){var i=e.tempFilePaths[0];t.imgList.push(i),t.imgCount++,t.updataImg()}})},removeImg:function(t){this.imgList=[],this.imgCount=1},updataImg:function(){var t=this;uni.showLoading({title:"上传图片",mask:!0}),uni.uploadFile({url:this.$config.domain.api+"API/Files.ashx",filePath:this.imgList[0],name:"file",formData:{action:"VoucherUpload",dlogo:!0},success:function(e){if(console.log(e),"uploadFile:ok"==e.errMsg){uni.hideLoading();var i=t.$config.domain.api+e.data;t.evaluateImgUrlList=i,t.$api.msg("上传成功")}}})}}};e.default=s},aec6:function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.appeal-box[data-v-814db642]{padding:%?30?% 3%}.appeal-box .order-list[data-v-814db642]{display:flex;justify-content:space-between;align-items:center;width:100%;font-size:%?28?%;height:%?80?%}.appeal-box .order-list .left[data-v-814db642]{color:#223041}.appeal-box .order-list .right[data-v-814db642]{color:#5e5e5e;display:flex;align-items:center}.appeal-box .order-list .right uni-text[data-v-814db642]{margin-left:%?15?%;margin-right:%?15?%}.appeal-box .evaluate-text[data-v-814db642]{margin-top:%?30?%;width:100%;height:%?200?%;border:%?1?% solid #f0f0f0;border-radius:%?20?%;padding:%?20?%;box-sizing:border-box;font-size:%?28?%}.appeal-box .photo-box[data-v-814db642]{margin-top:%?20?%}.appeal-box .photo-box .photo-total[data-v-814db642]{text-align:right}.appeal-box .photo-box .preview[data-v-814db642]{display:flex;flex-wrap:wrap;align-content:center}.appeal-box .photo-box .preview .preview-list[data-v-814db642]{position:relative}.appeal-box .photo-box .preview .preview-list .preview-img[data-v-814db642]{margin:0 %?20?%;width:%?180?%;height:%?180?%}.appeal-box .photo-box .preview .preview-list .del-img[data-v-814db642]{position:absolute;top:%?-16?%;right:%?1?%;width:%?40?%;height:%?40?%}.appeal-box .photo-box .preview .upload-img[data-v-814db642]{margin:0 %?20?%;width:%?180?%;height:%?180?%;border:%?1?% dashed #98a76c;display:flex;flex-direction:column;align-items:center;justify-content:center}.appeal-box .photo-box .preview .upload-img > uni-image[data-v-814db642]{width:%?60?%;height:%?46?%;margin-bottom:%?10?%}.appeal-box .submit-box[data-v-814db642]{width:100%;position:relative;margin-top:%?20?%;margin-bottom:%?20?%;height:%?72?%}.appeal-box .submit[data-v-814db642]{position:absolute;right:%?20?%;width:%?216?%;height:%?72?%;border-radius:%?36?%;background-color:#c34554;display:flex;align-items:center;justify-content:center;color:#fff;font-size:%?30?%}',""]),t.exports=e},b33c:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"appeal-box"},[i("v-uni-view",{staticClass:"order-list"},[i("v-uni-view",{staticClass:"left"},[t._v(t._s(t.detail.buyName)+"：")]),i("v-uni-view",{staticClass:"right"},[t._v(" "+t._s(t.detail.BuyerUserId)+" ")])],1),i("v-uni-view",{staticClass:"order-list"},[i("v-uni-view",{staticClass:"left"},[t._v(t._s(t.detail.sellName)+"：")]),i("v-uni-view",{staticClass:"right"},[t._v(" "+t._s(t.detail.SellerUserId)+" ")])],1),i("v-uni-view",{staticClass:"order-list"},[i("v-uni-view",{staticClass:"left"},[t._v("订单号：")]),i("v-uni-view",{staticClass:"right"},[t._v(" "+t._s(t.detail.FishRecordId)+" ")])],1),i("v-uni-view",{staticClass:"order-list"},[i("v-uni-view",{staticClass:"left"},[t._v("时间：")]),i("v-uni-view",{staticClass:"right"},[t._v(" "+t._s(t.detail.CreateDate)+" ")])],1),i("v-uni-view",{staticClass:"order-list"},[i("v-uni-view",{staticClass:"left"},[t._v("单价(CNY/FC)：")]),i("v-uni-view",{staticClass:"right"},[t._v(" "+t._s(t.detail.FishPrice)+" ")])],1),i("v-uni-view",{staticClass:"order-list"},[i("v-uni-view",{staticClass:"left"},[t._v("总金额(CNY)：")]),i("v-uni-view",{staticClass:"right"},[t._v(" "+t._s(t.detail.Balance)+" ")])],1),i("v-uni-view",{staticClass:"order-list"},[i("v-uni-view",{staticClass:"left"},[t._v("总数量(FC)：")]),i("v-uni-view",{staticClass:"right"},[t._v(" "+t._s(t.detail.FishNumber)+" ")])],1),t.pp?i("v-uni-view",{staticClass:"order-list"},[i("v-uni-view",{staticClass:"left"},[t._v("对方申诉理由：")]),i("v-uni-view",{staticClass:"right"},[t._v(" "+t._s(t.detail.AppealReason)+" ")])],1):t._e(),t.pp?i("v-uni-view",{staticStyle:{"margin-top":"30rpx",color:"#223041","font-size":"28rpx"}},[t._v("应诉理由：")]):i("v-uni-view",{staticStyle:{"margin-top":"30rpx",color:"#223041","font-size":"28rpx"}},[t._v("申诉理由：")]),i("v-uni-textarea",{staticClass:"evaluate-text",attrs:{maxlength:100,placeholder:"请输入理由"},model:{value:t.evaluateText,callback:function(e){t.evaluateText=e},expression:"evaluateText"}}),i("v-uni-view",{staticClass:"photo-box"},[i("v-uni-view",{staticClass:"photo-total"},[t._v(t._s(t.imgList.length)+"/1")]),i("v-uni-view",{staticClass:"preview"},[t._l(t.imgList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"preview-list"},[i("v-uni-image",{staticClass:"preview-img",attrs:{src:e}}),i("v-uni-image",{staticClass:"del-img",attrs:{src:"/static/delete.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.removeImg(a)}}})],1)})),i("v-uni-view",{staticClass:"upload-img",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upload.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:"/static/temp/camera.png"}}),i("v-uni-view",[t._v("上传图片")])],1)],2)],1),i("v-uni-view",{staticClass:"submit-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"submit"},[t._v("提交")])],1)],1)},r=[]},d2b7:function(t,e,i){"use strict";i.r(e);var a=i("b33c"),r=i("d2b71");for(var n in r)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(n);i("fc45");var o=i("828b"),s=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,"814db642",null,!1,a["a"],void 0);e["default"]=s.exports},d2b71:function(t,e,i){"use strict";i.r(e);var a=i("6cad"),r=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=r.a},fc45:function(t,e,i){"use strict";var a=i("6237"),r=i.n(a);r.a}}]);